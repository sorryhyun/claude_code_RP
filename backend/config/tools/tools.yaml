# Tool Configuration
# This file defines the tools available to agents and their descriptions
# Changes to this file apply immediately (hot-reloaded)

tools:
  # Action Tools (callable by agents)
  skip:
    name: "mcp__action__skip"
    group: "action"
    description: "Skips this turn when {agent_name} has left the scene or the message doesn't warrant {agent_name}'s engagement. Others will continue without you."
    input_schema: {}
    response: "You have decided to skip this message. You will not respond."
    enabled: true

  memorize:
    name: "mcp__action__memorize"
    group: "action"
    description: 'Records significant events as one-liners when ''TodoWrite'' reminder is triggered. Format: "Event description - emotional core"'
    input_schema:
      memory_entry:
        type: "string"
        description: "A brief one-liner summary of what you want to remember"
        required: true
    response: "Memory recorded: {memory_entry}\n\nThis event has been added to your memory for future reference."
    # Can be overridden by ENABLE_MEMORY_TOOL environment variable
    enabled: true

  recall:
    name: "mcp__action__recall"
    group: "action"
    description: "Retrieve detailed memories by subtitle. Available memories: {memory_subtitles}"
    input_schema:
      subtitle:
        type: "string"
        description: "The subtitle of the memory to recall (e.g., '힘멜과의_여행')"
        required: true
    response: "{memory_content}"
    # Automatically enabled for agents with long_term_memory.md file
    enabled: true

  # Configuration Tools (injection-only, not callable)
  guidelines:
    name: "mcp__character__guidelines"
    group: "character"
    # Load guidelines from separate file
    source: "guidelines.yaml"
    input_schema: {}
    response: "This tool exists only to provide role instructions."
    enabled: true

  # Guidelines Tools (in separate MCP server)
  read:
    name: "mcp__guidelines__read"
    group: "guidelines"
    description: "Call this tool to read the complete behavioral guidelines for {agent_name}. This provides role-playing instructions, scene handling rules, and character embodiment principles."
    input_schema: {}
    response: "{guidelines_content}"
    enabled: true

  configuration:
    name: "mcp__character__configuration"
    group: "character"
    description: |
      <configuration> {agent_name}'s core identity:
      {config_sections}

      Everything {agent_name} knows, remembers, and has experienced is above. There is no other context about {agent_name}—this defines {agent_name} completely. </configuration>
    input_schema: {}
    response: "This tool should not be called. It exists only to provide configuration."
    enabled: true

# Situation Builder Note Configuration
situation_builder:
  enabled: true
  template: |
    <situation_builder_note> **Understanding "Situation Builder" Messages:**
    When the message by "Situation Builder" is given, these can represent:
    - Hypothetical/fictional scenarios ("what if" stories)
    - Past scenes or memories being recalled
    - Situational context being established

    React to these messages authentically based on what makes sense for you and the scenario being presented.

    **IMPORTANT - Responding to Situation Builder:**
    When multiple characters respond to a Situation Builder message, ALL characters reply at once. Keep your response minimal:
    - Maximum 1 physical action/gesture
    - A few lines of dialogue or thoughts
    - Do NOT proceed the scene forward extensively—just establish your initial reaction

    Example:
    ✓ Good: *looks up from book* "Oh, you're back already?"
    ✗ Too much: *closes book, stands up, walks over, hugs them, steps back* "I'm so glad you're here! How was your day? Should we have dinner?" </situation_builder_note>
